webpackJsonp([0],{195:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),u=r(o),a=n(199),l=r(a);t.default={entry:{rootComponent:u.default,routes:l.default,template:"./public/index.html"}}},197:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),u=r(o),a=n(49),l=n(198),i=r(l),c=function(){return u.default.createElement("div",null,u.default.createElement(i.default,null),u.default.createElement(a.Router,null))};t.default=c},198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(49),a=function(){return o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("h2",null,"Index route"),o.default.createElement(u.Link,{to:"/",text:"Home"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with params /page/:id"),o.default.createElement("p",null,"Should create the route and pass ",o.default.createElement("strong",null,"/page/:id")," with the values in the URL"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/page/1",text:"Page 1"})),o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/page/2",text:"page 2"})))),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with multiple params /page/:id"),o.default.createElement("p",null,"Should create the route and pass ",o.default.createElement("strong",null,"/:segment/:path/:blah")," with the values in the URL"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/foo/bar/wee",text:"/foo/bar/wee"})),o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/1/2/foo",text:"/1/2/foo"})))),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with query params"),o.default.createElement(u.Link,{to:"/foo?page=1",text:"/foo?page=1"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with rejected promise"),o.default.createElement(u.Link,{to:"/error",text:"/error"})),o.default.createElement("li",null,o.default.createElement("h2",null,"No data resolving"),o.default.createElement(u.Link,{to:"/no-route-resolve",text:"No route resolve"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Invalid route path"),o.default.createElement(u.Link,{to:"/invalid-route-path",text:"/invalid-route-path"})))};t.default=a},199:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.id;return(0,f.default)("https://jsonplaceholder.typicode.com/posts/"+t,{method:"GET"}).then(function(e){return e.json()})}function u(){return Promise.reject("Error resolving data!")}function a(e){return Promise.resolve("it worked!")}Object.defineProperty(t,"__esModule",{value:!0});var l=n(50),i=r(l),c=n(213),f=r(c),p=n(49),d=function(e){return i.default.createElement("div",null,"Route props: ",JSON.stringify(e))},s=function(){return i.default.createElement("div",null,"ERROR")},h=function(){return i.default.createElement("div",null,i.default.createElement(p.Route,{path:"/",component:d,meta:{title:"One - Dynamic route",description:"One - Lorem ipsum"}}),i.default.createElement(p.Route,{path:"/page/:id",component:d,resolve:o,cache:!0,meta:{title:"Two - Dynamic route",description:"Two - Lorem ipsum"}}),i.default.createElement(p.Route,{path:"/:segment/:path/:blah",component:d,resolve:a}),i.default.createElement(p.Route,{path:"/foo",component:d}),i.default.createElement(p.Route,{path:"/error",component:s,resolve:u}),i.default.createElement(p.Route,{path:"/no-route-resolve",component:d,meta:{title:"No route resolve",description:"Just a page"}}),i.default.createElement(p.Route,{path:"/parent",component:d}))};t.default=h},200:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(50),u=(r(o),n(196)),a=r(u),l=n(49),i=n(195),c=r(i),f=(0,l.createTinyApp)(c.default);a.default.render(f,document.getElementById("root"))},49:function(e,t,n){"use strict";(function(e){var r,o,u,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(l,i){"object"===a(t)&&"object"===a(e)?e.exports=i(n(118),n(68),n(94),n(95),n(96),n(115)):(o=[n(118),n(68),n(94),n(95),n(96),n(115)],r=i,void 0!==(u="function"==typeof r?r.apply(t,o):r)&&(e.exports=u))}(0,function(e,t,r,o,u,l){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=28)}([function(e,t){e.exports=n(118)},function(e,t,n){function r(e,t,n){this.name="TinyServer error",this.message=e||"default.error",this.args=t,this.stack=n||(new Error).stack}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTinyServer=t.createTinyApp=t.RouteProvider=t.Link=t.Route=t.Router=void 0;var o=n(13),u=r(o),a=n(12),l=r(a),i=n(11),c=r(i),f=n(3),p=r(f),d=n(14),s=r(d),h=n(15),v=r(h);t.Router=u.default,t.Route=l.default,t.Link=c.default,t.RouteProvider=p.default,t.createTinyApp=s.default,t.createTinyServer=v.default},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),p=r(f),d=n(4),s=n(7),h=r(s),v=n(10),m=r(v),y=n(9),_=r(y),b=n(6),g=r(b),E=n(5),P=r(E),O=n(8),R=r(O),M=function(e){function t(e){u(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.location,a=e.routeMap,i=e.routes,c=e.resolvedData,f=r.pathname;return n.state={location:r,routeMap:a,routes:i,data:o({},f,c)},n.onRouteChange=n.onRouteChange.bind(n),n}return i(t,e),c(t,[{key:"getChildContext",value:function(){var e=this.state,t=e.location,n=e.data,r=e.routes;return{getLocation:function(){return t},getRoutes:function(){return r},getResolvedData:function(e){return n[e]},onRouteChange:this.onRouteChange}}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(){var t=window.location,n=t.pathname,r=t.search,o=""+n+r;e.onRouteChange(o,!0)}}},{key:"onRouteChange",value:function(e,t){var n=this,r=(0,_.default)(e),o=r.pathname,u=this.state.routes,a=(0,g.default)(u,o);if(!(0,R.default)(a))throw new Error((0,h.default)("route.invalid",o));t||history.pushState({page:e},e,e);var l=a.resolve,i=a.path,c=(0,P.default)(i,o);(0,m.default)(l,c).then(function(e){n.updateRoute(r,e)},function(e){throw n.updateRoute(r),new Error(e)})}},{key:"updateRoute",value:function(e,t){var n=this.state.data,r=e.pathname;this.setState({location:e,data:o({},r,t||n[r])})}},{key:"render",value:function(){return p.default.createElement("div",null,this.props.children)}}]),t}(f.Component);M.propTypes={location:d.locationShape.isRequired,routeMap:d.routeMapShape.isRequired,routes:d.routeShape.isRequired,resolvedData:d.resolvedDataShape,children:d.childrenShape.isRequired,afterRouteChange:f.PropTypes.func},M.childContextTypes={getLocation:f.PropTypes.func,getRoutes:f.PropTypes.func,getResolvedData:f.PropTypes.func,onRouteChange:f.PropTypes.func},t.default=M},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.componentShape=t.childrenShape=t.resolvedDataShape=t.routeShape=t.routeMapShape=t.locationShape=void 0;var r=n(0),o=r.PropTypes.shape,u=r.PropTypes.string,a=r.PropTypes.oneOfType,l=r.PropTypes.node,i=r.PropTypes.component,c=r.PropTypes.func,f=r.PropTypes.any,p=r.PropTypes.element;t.locationShape=o({pathname:u.isRequired,search:u}),t.routeMapShape=o({path:u,component:a([l,i]),resolve:c,meta:o({title:u,description:u})}),t.routeShape=a([l,c]),t.resolvedDataShape=a([f]),t.childrenShape=a([l,p]),t.componentShape=a([c,l])},function(e,t,n){function r(e,t){if(!e)throw new u.default("routes.empty");var n=t.split("/");return e.split("/").reduce(function(e,t,r,o){if(a(t)){e[o[r].split(":").pop()]=n[r]}return e},{})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return-1!==e.indexOf(":")};t.default=r},function(e,t,n){function r(e,t){if(!e.match(/:+(.+)$/i))return!1;var n=t.split("/");return t===e.split("/").map(function(e,t){return-1!==e.indexOf(":")?n[t]:e}).join("/")}function o(e,t){var n=e().props.children;return Array.isArray(n)?n.reduce(function(e,n){var o=n.props.path;return(o===t||r(o,t))&&(e=u({},n.props)),e},{}):e().props}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o},function(e,t,n){function r(e,t){var n=u.default[e]||e,r=function(e,t,n){return e.replace("{"+n+"}",t)};return Array.isArray(t)?t.forEach(function(e,t){n=r(n,e,t)}):t&&(n=r(n,t,0)),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),u=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return JSON.stringify(e)!==JSON.stringify({})};t.default=r},function(e,t,n){function r(e){var t=e.split("?");return{pathname:t[0],search:t[1]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){function r(e,t){return e?e(t).then(null,function(e){throw new a.default("resolve.error",e)}):Promise.resolve(null)}function o(e,t){return e?e(t):Promise.resolve(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchRoute=r,t.resolveRoute=o;var u=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=o},function(e,t,n){function r(e,t){var n=e.to,r=e.text,o=e.children,a=t.onRouteChange;return u.default.createElement("a",{href:n,onClick:function(e){return l(e,a,n)}},o||r)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(4),l=function(e,t,n){e.preventDefault(),t(n)};r.propTypes={to:o.PropTypes.string.isRequired,text:o.PropTypes.string,children:a.childrenShape},r.contextTypes={onRouteChange:o.PropTypes.func},t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(4),a=function(e){var t=e.component;return o.default.createElement(t,e)};a.propTypes={component:u.componentShape.isRequired},t.default=a},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),a=n(6),l=r(a),i=n(5),c=r(i),f=function(e,t){var n=t.getLocation,r=t.getRoutes,o=t.getResolvedData,a=n(),i=o(a.pathname),f=(0,l.default)(r(),a.pathname),p=f.path,d=f.component,s=(0,c.default)(p,a.pathname);return u.default.createElement(d,{location:a,resolvedData:i,routeParams:s})};f.contextTypes={getLocation:o.PropTypes.func,getRoutes:o.PropTypes.func,getResolvedData:o.PropTypes.func},t.default=f},function(e,t,n){function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.entry,n=r(e,["entry"]),o=t.rootComponent,a=t.routes;return(0,u.default)(o,a,n)};var o=n(21),u=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e){var t=e.entry,n=o(e,["entry"]),r=t.rootComponent,u=t.routes,l=t.template;return console.log(u),function(e,o,c){var d=(0,i.default)(R.handleSuccess)(o),h=(0,i.default)(R.handleError)(o);["rootComponent","routes","template"].forEach(function(e){if(!t[e]){var n=new j.default("api.error",e);throw h(n),new Error(n.stack)}});var m=(0,s.default)(e.url),_=m.pathname,g=m.search,P=(0,v.default)(u,_);if(!(0,E.default)(P))return c();var M=void 0,w=void 0,S=P.path,T=P.resolve;try{M=(0,y.default)(S,_),w=(0,b.default)(u)}catch(e){throw h(e),new Error(e.stack)}var x=function(e){return(0,f.default)(r,u,a({location:{pathname:_,search:g},resolvedData:e,routeMap:w},n))},k=function(e){return(0,O.default)(l,P,e)};(0,p.prefetchRoute)(T,M).then(x).then(k).then(d,h).catch(h)}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(24),i=r(l),c=n(22),f=r(c),p=n(10),d=n(9),s=r(d),h=n(6),v=r(h),m=n(5),y=r(m),_=n(18),b=r(_),g=n(8),E=r(g),P=n(20),O=r(P),R=n(16),M=n(1),j=r(M);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=t.handleSuccess=void 0;var r=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.handleSuccess=function(e,t){return e.send(t)},t.handleError=function(e,t){var n=(0,o.default)(t.message,t.args),r=t.stack?t.stack.toString():"",u='\n    <html style="background-color:#ff0000; font-family: \'Helvetica Neue\', Helvetica, Arial, sans-serif;">\n    <body>\n      <div style="color: white;">\n        <h1 style="color:#fff">\n          TinyServer error\n        </h1>\n        <h4>'+n+"</h4>\n        <p>"+r+"</p>\n      </div>\n    </body>\n    </html>\n  ";e.status(500).send(u)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={"api.error":"API Error: {0} is missing from entry configuration","resolve.error":"Error pre-fetching route data","default.error":"Something went wrong...","routes.empty":"No routes have been defined","route.invalid":"Stack: {0} has no valid route","server.error":"Stack: {0}\n","error.parseTemplate":"Couldn't find template file: {0}","error.parseTemplate.noAppRoot":"No <% appRoot %> was defined in your template"}},function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e().props.children;if(Array.isArray(t))return t.reduce(function(e,t){var n=t.props,r=n.path,o=n.component,u=n.resolve,a=n.meta;return e[r]={path:r,component:o,resolve:u,meta:a},e},{});var n=e().props,o=n.path;return r({},o,{path:o,component:n.component,resolve:n.resolve,meta:n.meta})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){function r(e,t){var n=e.match(/\{(.*?)\}/g);return n?n.map(function(e){return e.replace("{","").replace("}","")}).filter(function(e){return"appRoot"!==e}).reduce(function(e,n){return e[n]=(0,u.default)(t,n),e},{}):{}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),u=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=e,o=(0,p.default)(r,t);return r.match("{appRoot}")?(r=r.replace("{appRoot}",n),(0,c.default)(o,function(e,t){r=r.replace("{"+t+"}",e)}),r):null}function u(e,t,n){return new Promise(function(r,u){var a=function(e){e?r(e):u(new s.default("error.parseTemplate.noAppRoot"))};e.match(".html")?l.default.readFile(e,function(r,l){r||a(o(l.toString(),t,n)),u(new s.default("error.parseTemplate",e,r))}):a(o(e,t,n))})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),l=r(a),i=n(25),c=r(i),f=n(19),p=r(f),d=n(1),s=r(d);t.default=u},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),a=r(u),l=n(3),i=r(l),c=function(e,t,n){var r=document.getElementById("app-props").textContent;r=r.replace("<![CDATA[","").replace("]]>","");var u=o({},JSON.parse(r),n);return a.default.createElement(i.default,o({},u,{routes:t}),a.default.createElement(e,null))};t.default=c},function(e,t,n){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(0),a=r(u),l=n(27),i=n(3),c=r(i),f=function(e,t,n){var r=JSON.stringify(n),u=a.default.createElement(c.default,o({},n,{routes:t}),a.default.createElement(e,null));return"\n      <script id='app-props' type='application/json'>\n        <![CDATA["+r+"]]>\n      <\/script>\n      <div>"+(0,l.renderToString)(u)+"</div>\n    "};t.default=f},function(e,t){e.exports=n(68)},function(e,t){e.exports=n(94)},function(e,t){e.exports=n(95)},function(e,t){e.exports=n(96)},function(e,t){e.exports=n(115)},function(e,t,n){n(2),e.exports=n(2)}])})}).call(t,n(87)(e))}},[200]);