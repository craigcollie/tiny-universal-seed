webpackJsonp([0],{118:function(e,t,r){"use strict";function n(e,t){var r=u.default[e]||e,n=function(e,t,r){return e.replace("{"+r+"}",t)};return Array.isArray(t)?t.forEach(function(e,t){r=n(r,e,t)}):t&&(r=n(r,t,0)),r}Object.defineProperty(t,"__esModule",{value:!0});var o=r(211),u=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=n},119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return JSON.stringify(e)!==JSON.stringify({})};t.default=n},120:function(e,t,r){"use strict";function n(e){var t=e.split("?");return{pathname:t[0],search:t[1]}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},121:function(e,t,r){"use strict";function n(e,t){return e?e(t).then(null,function(e){throw new a.default("resolve.error",e)}):Promise.resolve(null)}function o(e,t){return e?e(t):Promise.resolve(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.prefetchRoute=n,t.resolveRoute=o;var u=r(52),a=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=o},199:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(201),u=n(o),a=r(203),l=n(a);t.default={entry:{rootComponent:u.default,routes:l.default,template:"./public/index.html"}}},201:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(51),u=n(o),a=r(50),l=r(202),i=n(l),c=function(){return u.default.createElement("div",null,u.default.createElement(i.default,null),u.default.createElement(a.Router,null))};t.default=c},202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(51),o=function(e){return e&&e.__esModule?e:{default:e}}(n),u=r(50),a=function(){return o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement("h2",null,"Index route"),o.default.createElement(u.Link,{to:"/",text:"Home"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with params /page/:id"),o.default.createElement("p",null,"Should create the route and pass ",o.default.createElement("strong",null,"/page/:id")," with the values in the URL"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/page/1",text:"Page 1"})),o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/page/2",text:"page 2"})))),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with multiple params /page/:id"),o.default.createElement("p",null,"Should create the route and pass ",o.default.createElement("strong",null,"/:segment/:path/:blah")," with the values in the URL"),o.default.createElement("ul",null,o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/foo/bar/wee",text:"/foo/bar/wee"})),o.default.createElement("li",null,o.default.createElement(u.Link,{to:"/1/2/foo",text:"/1/2/foo"})))),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with query params"),o.default.createElement(u.Link,{to:"/foo?page=1",text:"/foo?page=1"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Route with rejected promise"),o.default.createElement(u.Link,{to:"/error",text:"/error"})),o.default.createElement("li",null,o.default.createElement("h2",null,"No data resolving"),o.default.createElement(u.Link,{to:"/no-route-resolve",text:"No route resolve"})),o.default.createElement("li",null,o.default.createElement("h2",null,"Invalid route path"),o.default.createElement(u.Link,{to:"/invalid-route-path",text:"/invalid-route-path"})))};t.default=a},203:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.id;return(0,f.default)("https://jsonplaceholder.typicode.com/posts/"+t,{method:"GET"}).then(function(e){return e.json()})}function u(){return Promise.reject("Error resolving data!")}function a(e){return Promise.resolve("it worked!")}Object.defineProperty(t,"__esModule",{value:!0});var l=r(51),i=n(l),c=r(229),f=n(c),s=r(50),d=function(e){return i.default.createElement("div",null,"Route props: ",JSON.stringify(e))},p=function(){return i.default.createElement("div",null,"ERROR")},h=function(){return i.default.createElement("div",null,i.default.createElement(s.Route,{path:"/",component:d,meta:{title:"One - Dynamic route",description:"One - Lorem ipsum"}}),i.default.createElement(s.Route,{path:"/page/:id",component:d,resolve:o,cache:!0,meta:{title:"Two - Dynamic route",description:"Two - Lorem ipsum"}}),i.default.createElement(s.Route,{path:"/:segment/:path/:blah",component:d,resolve:a}),i.default.createElement(s.Route,{path:"/foo",component:d}),i.default.createElement(s.Route,{path:"/error",component:p,resolve:u}),i.default.createElement(s.Route,{path:"/no-route-resolve",component:d,meta:{title:"No route resolve",description:"Just a page"}}),i.default.createElement(s.Route,{path:"/parent",component:d}))};t.default=h},204:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=r(51),u=(n(o),r(200)),a=n(u),l=r(50),i=r(199),c=n(i),f=(0,l.createTinyApp)(c.default);a.default.render(f,document.getElementById("root"))},205:function(e,t,r){"use strict";function n(e,t){var r=e.to,n=e.text,o=e.children,a=t.onRouteChange;return u.default.createElement("a",{href:r,onClick:function(e){return l(e,a,r)}},o||n)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=r(70),l=function(e,t,r){e.preventDefault(),t(r)};n.propTypes={to:o.PropTypes.string.isRequired,text:o.PropTypes.string,children:a.childrenShape},n.contextTypes={onRouteChange:o.PropTypes.func},t.default=n},206:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(n),u=r(70),a=function(e){var t=e.component;return o.default.createElement(t,e)};a.propTypes={component:u.componentShape.isRequired},t.default=a},207:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(25),u=n(o),a=r(72),l=n(a),i=r(71),c=n(i),f=function(e,t){var r=t.getLocation,n=t.getRoutes,o=t.getResolvedData,a=r(),i=o(a.pathname),f=(0,l.default)(n(),a.pathname),s=f.path,d=f.component,p=(0,c.default)(s,a.pathname);return u.default.createElement(d,{location:a,resolvedData:i,routeParams:p})};f.contextTypes={getLocation:o.PropTypes.func,getRoutes:o.PropTypes.func,getResolvedData:o.PropTypes.func},t.default=f},208:function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.entry,r=n(e,["entry"]),o=t.rootComponent,a=t.routes;return(0,u.default)(o,a,r)};var o=r(215),u=function(e){return e&&e.__esModule?e:{default:e}}(o)},209:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function u(e){var t=e.entry,r=o(e,["entry"]),n=t.rootComponent,u=t.routes,l=t.template;return function(e,o,c){var d=(0,i.default)(R.handleSuccess)(o),h=(0,i.default)(R.handleError)(o);["rootComponent","routes","template"].forEach(function(e){if(!t[e]){var r=new w.default("api.error",e);throw h(r),new Error(r.stack)}});var m=(0,p.default)(e.url),_=m.pathname,E=m.search,P=(0,v.default)(u,_);if(!(0,b.default)(P))return c();var M=void 0,j=void 0,T=P.path,S=P.resolve;try{M=(0,y.default)(T,_),j=(0,g.default)(u)}catch(e){throw h(e),new Error(e.stack)}var k=function(e){return(0,f.default)(n,u,a({location:{pathname:_,search:E},resolvedData:e,routeMap:j},r))},C=function(e){return(0,O.default)(l,P,e)};(0,s.prefetchRoute)(S,M).then(k).then(C).then(d,h).catch(h)}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(395),i=n(l),c=r(216),f=n(c),s=r(121),d=r(120),p=n(d),h=r(72),v=n(h),m=r(71),y=n(m),_=r(212),g=n(_),E=r(119),b=n(E),P=r(214),O=n(P),R=r(210),M=r(52),w=n(M);t.default=u},210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleError=t.handleSuccess=void 0;var n=r(118),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.handleSuccess=function(e,t){return e.send(t)},t.handleError=function(e,t){var r=(0,o.default)(t.message,t.args),n=t.stack?t.stack.toString():"",u='\n    <html style="background-color:#ff0000; font-family: \'Helvetica Neue\', Helvetica, Arial, sans-serif;">\n    <body>\n      <div style="color: white;">\n        <h1 style="color:#fff">\n          TinyServer error\n        </h1>\n        <h4>'+r+"</h4>\n        <p>"+n+"</p>\n      </div>\n    </body>\n    </html>\n  ";e.status(500).send(u)}},211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"api.error":"API Error: {0} is missing from entry configuration","resolve.error":"Error pre-fetching route data","default.error":"Something went wrong...","routes.empty":"No routes have been defined","route.invalid":"Stack: {0} has no valid route","server.error":"Stack: {0}\n","error.parseTemplate":"Couldn't find template file: {0}","error.parseTemplate.noAppRoot":"No <% appRoot %> was defined in your template"}},212:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=e().props.children;if(Array.isArray(t))return t.reduce(function(e,t){var r=t.props,n=r.path,o=r.component,u=r.resolve,a=r.meta;return e[n]={path:n,component:o,resolve:u,meta:a},e},{});var r=e().props,o=r.path;return n({},o,{path:o,component:r.component,resolve:r.resolve,meta:r.meta})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},213:function(e,t,r){"use strict";function n(e,t){var r=e.match(/<%(.*?)%>/g);return r?r.map(function(e){return e.replace(/<|>|%|\s/g,"")}).filter(function(e){return"appRoot"!==e}).reduce(function(e,r){return e[r]=(0,u.default)(t,r),e},{}):{}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(398),u=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=n},214:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=e,o=(0,s.default)(n,t);return n.match("<% appRoot %>")?(n=n.replace("<% appRoot %>",r),(0,c.default)(o,function(e,t){n=n.replace("<% "+t+" %>",e)}),n):null}function u(e,t,r){return new Promise(function(n,u){var a=function(e){e?n(e):u(new p.default("error.parseTemplate.noAppRoot"))};e.match(".html")?l.default.readFile(e,function(n,l){n||a(o(l.toString(),t,r)),u(new p.default("error.parseTemplate",e,n))}):a(o(e,t,r))})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(230),l=n(a),i=r(397),c=n(i),f=r(213),s=n(f),d=r(52),p=n(d);t.default=u},215:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(25),a=n(u),l=r(69),i=n(l),c=function(e,t,r){var n=document.getElementById("app-props").textContent;n=n.replace("<![CDATA[","").replace("]]>","");var u=o({},JSON.parse(n),r);return a.default.createElement(i.default,o({},u,{routes:t}),a.default.createElement(e,null))};t.default=c},216:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(25),a=n(u),l=r(474),i=r(69),c=n(i),f=function(e,t,r){var n=JSON.stringify(r),u=a.default.createElement(c.default,o({},r,{routes:t}),a.default.createElement(e,null));return"\n      <script id='app-props' type='application/json'>\n        <![CDATA["+n+"]]>\n      <\/script>\n      <div>"+(0,l.renderToString)(u)+"</div>\n    "};t.default=f},50:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTinyServer=t.createTinyApp=t.RouteProvider=t.Link=t.Route=t.Router=void 0;var o=r(207),u=n(o),a=r(206),l=n(a),i=r(205),c=n(i),f=r(69),s=n(f),d=r(208),p=n(d),h=r(209),v=n(h);t.Router=u.default,t.Route=l.default,t.Link=c.default,t.RouteProvider=s.default,t.createTinyApp=p.default,t.createTinyServer=v.default},52:function(e,t,r){"use strict";function n(e,t,r){this.name="TinyServer error",this.message=e||"default.error",this.args=t,this.stack=r||(new Error).stack}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},69:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(25),f=n(c),s=r(70),d=r(118),p=n(d),h=r(121),v=n(h),m=r(120),y=n(m),_=r(72),g=n(_),E=r(71),b=n(E),P=r(119),O=n(P),R=function(e){function t(e){u(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.location,l=e.routeMap,i=e.routes,c=e.resolvedData,f=n.pathname;return r.state={location:n,routeMap:l,routes:i,data:o({},f,c)},r.onRouteChange=r.onRouteChange.bind(r),r}return l(t,e),i(t,[{key:"getChildContext",value:function(){var e=this.state,t=e.location,r=e.data,n=e.routes;return{getLocation:function(){return t},getRoutes:function(){return n},getResolvedData:function(e){return r[e]},onRouteChange:this.onRouteChange}}},{key:"componentDidMount",value:function(){var e=this;window.onpopstate=function(){var t=window.location,r=t.pathname,n=t.search,o=""+r+n;e.onRouteChange(o,!0)}}},{key:"onRouteChange",value:function(e,t){var r=this,n=(0,y.default)(e),o=n.pathname,u=this.state.routes,a=(0,g.default)(u,o);if(!(0,O.default)(a))throw new Error((0,p.default)("route.invalid",o));t||history.pushState({page:e},e,e);var l=a.resolve,i=a.path,c=(0,b.default)(i,o);(0,v.default)(l,c).then(function(e){r.updateRoute(n,e)},function(e){throw r.updateRoute(n),new Error(e)})}},{key:"updateRoute",value:function(e,t){var r=this.state.data,n=e.pathname;this.setState({location:e,data:o({},n,t||r[n])})}},{key:"render",value:function(){return f.default.createElement("div",null,this.props.children)}}]),t}(c.Component);R.propTypes={location:s.locationShape.isRequired,routeMap:s.routeMapShape.isRequired,routes:s.routeShape.isRequired,resolvedData:s.resolvedDataShape,children:s.childrenShape.isRequired,afterRouteChange:c.PropTypes.func},R.childContextTypes={getLocation:c.PropTypes.func,getRoutes:c.PropTypes.func,getResolvedData:c.PropTypes.func,onRouteChange:c.PropTypes.func},t.default=R},70:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.componentShape=t.childrenShape=t.resolvedDataShape=t.routeShape=t.routeMapShape=t.locationShape=void 0;var n=r(25),o=n.PropTypes.shape,u=n.PropTypes.string,a=n.PropTypes.oneOfType,l=n.PropTypes.node,i=n.PropTypes.component,c=n.PropTypes.func,f=n.PropTypes.any,s=n.PropTypes.element;t.locationShape=o({pathname:u.isRequired,search:u}),t.routeMapShape=o({path:u,component:a([l,i]),resolve:c,meta:o({title:u,description:u})}),t.routeShape=a([l,c]),t.resolvedDataShape=a([f]),t.childrenShape=a([l,s]),t.componentShape=a([c,l])},71:function(e,t,r){"use strict";function n(e,t){if(!e)throw new u.default("routes.empty");var r=t.split("/");return e.split("/").reduce(function(e,t,n,o){if(a(t)){e[o[n].split(":").pop()]=r[n]}return e},{})}Object.defineProperty(t,"__esModule",{value:!0});var o=r(52),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(e){return-1!==e.indexOf(":")};t.default=n},72:function(e,t,r){"use strict";function n(e,t){if(!e.match(/:+(.+)$/i))return!1;var r=t.split("/");return t===e.split("/").map(function(e,t){return-1!==e.indexOf(":")?r[t]:e}).join("/")}function o(e,t){var r=e().props.children;return Array.isArray(r)?r.reduce(function(e,r){var o=r.props.path;return(o===t||n(o,t))&&(e=u({},r.props)),e},{}):e().props}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=o}},[204]);